{"version":3,"names":[],"mappings":"","sources":["page-sections.js"],"sourcesContent":["\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _templateObject = _taggedTemplateLiteral([\"<style>\\n\\t\\t\\t\\t          :host{\\n\\t\\t\\t\\t              display: flex;\\n\\t\\t\\t\\t              flex-direction: column;\\n\\t\\t\\t\\t              flex-wrap: nowrap;\\n\\t\\t\\t\\t          }\\n\\t\\t\\t\\t        </style>\\n\\t\\t\\t\\t        <slot></slot>\\n\\t\\t\\t\\t      \"], [\"<style>\\n\\t\\t\\t\\t          :host{\\n\\t\\t\\t\\t              display: flex;\\n\\t\\t\\t\\t              flex-direction: column;\\n\\t\\t\\t\\t              flex-wrap: nowrap;\\n\\t\\t\\t\\t          }\\n\\t\\t\\t\\t        </style>\\n\\t\\t\\t\\t        <slot></slot>\\n\\t\\t\\t\\t      \"]),\n    _templateObject2 = _taggedTemplateLiteral([\"<style>\\n\\t\\t\\t\\t                :host{\\n\\t\\t\\t\\t                    display: inline-block;\\n\\t\\t\\t\\t                    flex: 0 1 auto;\\n\\t\\t\\t\\t                }\\n\\t\\t\\t\\t                :host(:not([flexible])){\\n\\t\\t\\t\\t                    box-sizing: border-box;\\n\\t\\t\\t\\t                    width: 100%;\\n\\t\\t\\t\\t                    min-height: 100vh;\\n\\t\\t\\t\\t                }\\n\\t\\t\\t\\t                :host([flexible]){\\n\\t\\t\\t\\t                    margin-left: 50%;\\n\\t\\t\\t\\t                    transform: translateX(-50%);\\n\\t\\t\\t\\t                }\\n\\t\\t\\t\\t            </style>\\n\\t\\t\\t\\t            <slot></slot>\\n\\t\\t\\t\\t      \"], [\"<style>\\n\\t\\t\\t\\t                :host{\\n\\t\\t\\t\\t                    display: inline-block;\\n\\t\\t\\t\\t                    flex: 0 1 auto;\\n\\t\\t\\t\\t                }\\n\\t\\t\\t\\t                :host(:not([flexible])){\\n\\t\\t\\t\\t                    box-sizing: border-box;\\n\\t\\t\\t\\t                    width: 100%;\\n\\t\\t\\t\\t                    min-height: 100vh;\\n\\t\\t\\t\\t                }\\n\\t\\t\\t\\t                :host([flexible]){\\n\\t\\t\\t\\t                    margin-left: 50%;\\n\\t\\t\\t\\t                    transform: translateX(-50%);\\n\\t\\t\\t\\t                }\\n\\t\\t\\t\\t            </style>\\n\\t\\t\\t\\t            <slot></slot>\\n\\t\\t\\t\\t      \"]);\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _CustomElement() {\n\treturn Reflect.construct(HTMLElement, [], this.__proto__.constructor);\n}\n\n;\nObject.setPrototypeOf(_CustomElement.prototype, HTMLElement.prototype);\nObject.setPrototypeOf(_CustomElement, HTMLElement);\n// This file was generated by modules-webmake (modules for web) project.\n// See: https://github.com/medikoo/modules-webmake\n\n(function (modules) {\n\t'use strict';\n\n\tvar _resolve,\n\t    getRequire,\n\t    wmRequire,\n\t    notFoundError,\n\t    findFile,\n\t    extensions = { \".js\": [], \".json\": [], \".css\": [], \".html\": [] },\n\t    envRequire = typeof require === 'function' ? require : null;\n\n\tnotFoundError = function notFoundError(path) {\n\t\tvar error = new Error(\"Could not find module '\" + path + \"'\");\n\t\terror.code = 'MODULE_NOT_FOUND';\n\t\treturn error;\n\t};\n\tfindFile = function findFile(scope, name, extName) {\n\t\tvar i, ext;\n\t\tif (typeof scope[name + extName] === 'function') return name + extName;\n\t\tfor (i = 0; ext = extensions[extName][i]; ++i) {\n\t\t\tif (typeof scope[name + ext] === 'function') return name + ext;\n\t\t}\n\t\treturn null;\n\t};\n\t_resolve = function resolve(scope, tree, path, fullPath, state, id) {\n\t\tvar name, dir, exports, module, fn, found, ext;\n\t\tpath = path.split('/');\n\t\tname = path.pop();\n\t\tif (name === '.' || name === '..') {\n\t\t\tpath.push(name);\n\t\t\tname = '';\n\t\t}\n\t\twhile ((dir = path.shift()) != null) {\n\t\t\tif (!dir || dir === '.') continue;\n\t\t\tif (dir === '..') {\n\t\t\t\tscope = tree.pop();\n\t\t\t\tid = id.slice(0, id.lastIndexOf('/'));\n\t\t\t} else {\n\t\t\t\ttree.push(scope);\n\t\t\t\tscope = scope[dir];\n\t\t\t\tid += '/' + dir;\n\t\t\t}\n\t\t\tif (!scope) throw notFoundError(fullPath);\n\t\t}\n\t\tif (name && typeof scope[name] !== 'function') {\n\t\t\tfound = findFile(scope, name, '.js');\n\t\t\tif (!found) found = findFile(scope, name, '.json');\n\t\t\tif (!found) found = findFile(scope, name, '.css');\n\t\t\tif (!found) found = findFile(scope, name, '.html');\n\t\t\tif (found) {\n\t\t\t\tname = found;\n\t\t\t} else if (state !== 2 && _typeof(scope[name]) === 'object') {\n\t\t\t\ttree.push(scope);\n\t\t\t\tscope = scope[name];\n\t\t\t\tid += '/' + name;\n\t\t\t\tname = '';\n\t\t\t}\n\t\t}\n\t\tif (!name) {\n\t\t\tif (state !== 1 && scope[':mainpath:']) {\n\t\t\t\treturn _resolve(scope, tree, scope[':mainpath:'], fullPath, 1, id);\n\t\t\t}\n\t\t\treturn _resolve(scope, tree, 'index', fullPath, 2, id);\n\t\t}\n\t\tfn = scope[name];\n\t\tif (!fn) throw notFoundError(fullPath);\n\t\tif (fn.hasOwnProperty('module')) return fn.module.exports;\n\t\texports = {};\n\t\tfn.module = module = { exports: exports, id: id + '/' + name };\n\t\tfn.call(exports, exports, module, getRequire(scope, tree, id));\n\t\treturn module.exports;\n\t};\n\twmRequire = function wmRequire(scope, tree, fullPath, id) {\n\t\tvar name,\n\t\t    path = fullPath,\n\t\t    t = fullPath.charAt(0),\n\t\t    state = 0;\n\t\tif (t === '/') {\n\t\t\tpath = path.slice(1);\n\t\t\tscope = modules['/'];\n\t\t\tif (!scope) {\n\t\t\t\tif (envRequire) return envRequire(fullPath);\n\t\t\t\tthrow notFoundError(fullPath);\n\t\t\t}\n\t\t\tid = '/';\n\t\t\ttree = [];\n\t\t} else if (t !== '.') {\n\t\t\tname = path.split('/', 1)[0];\n\t\t\tscope = modules[name];\n\t\t\tif (!scope) {\n\t\t\t\tif (envRequire) return envRequire(fullPath);\n\t\t\t\tthrow notFoundError(fullPath);\n\t\t\t}\n\t\t\tid = name;\n\t\t\ttree = [];\n\t\t\tpath = path.slice(name.length + 1);\n\t\t\tif (!path) {\n\t\t\t\tpath = scope[':mainpath:'];\n\t\t\t\tif (path) {\n\t\t\t\t\tstate = 1;\n\t\t\t\t} else {\n\t\t\t\t\tpath = 'index';\n\t\t\t\t\tstate = 2;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn _resolve(scope, tree, path, fullPath, state, id);\n\t};\n\tgetRequire = function getRequire(scope, tree, id) {\n\t\treturn function (path) {\n\t\t\treturn wmRequire(scope, [].concat(tree), path, id);\n\t\t};\n\t};\n\treturn getRequire(modules, [], '');\n})({\n\t\"page-sections\": {\n\t\t\"src\": {\n\t\t\t\"make-template.js\": function makeTemplateJs(exports, module, require) {\n\t\t\t\tvar makeTemplate = function makeTemplate(strings) {\n\t\t\t\t\tvar html = '';\n\n\t\t\t\t\tfor (var _len = arguments.length, substs = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t\t\t\t\t\tsubsts[_key - 1] = arguments[_key];\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var i = 0; i < substs.length; i++) {\n\t\t\t\t\t\thtml += strings[i];\n\t\t\t\t\t\thtml += substs[i];\n\t\t\t\t\t}\n\t\t\t\t\thtml += strings[strings.length - 1];\n\t\t\t\t\tvar template = document.createElement('template');\n\t\t\t\t\ttemplate.innerHTML = html;\n\t\t\t\t\treturn template;\n\t\t\t\t};\n\t\t\t\t/**\n     * export make template function\n     */\n\t\t\t\tmodule.exports = makeTemplate;\n\t\t\t},\n\t\t\t\"page-section-container.js\": function pageSectionContainerJs(exports, module, require) {\n\t\t\t\t/* global HTMLElement */\n\t\t\t\t(function () {\n\t\t\t\t\tvar makeTemplate = require('./make-template');\n\n\t\t\t\t\tvar PageSections = function (_CustomElement2) {\n\t\t\t\t\t\t_inherits(PageSections, _CustomElement2);\n\n\t\t\t\t\t\tfunction PageSections() {\n\t\t\t\t\t\t\t_classCallCheck(this, PageSections);\n\n\t\t\t\t\t\t\tvar _this = _possibleConstructorReturn(this, (PageSections.__proto__ || Object.getPrototypeOf(PageSections)).call(this));\n\t\t\t\t\t\t\t// needs to be called first\n\n\n\t\t\t\t\t\t\tvar template = makeTemplate(_templateObject);\n\t\t\t\t\t\t\t// set sections initial active state to false\n\t\t\t\t\t\t\t_this._active = false;\n\t\t\t\t\t\t\t// create shadowRoot\n\t\t\t\t\t\t\tvar shadowRoot = _this.attachShadow({ mode: 'open' });\n\t\t\t\t\t\t\t// check if polyfill is used\n\t\t\t\t\t\t\tif (typeof ShadyCSS !== 'undefined') {\n\t\t\t\t\t\t\t\tShadyCSS.prepareTemplate(template, 'page-sections'); // eslint-disable-line no-undef\n\t\t\t\t\t\t\t\t// add content to shadowRoot & apply css polyfill\n\t\t\t\t\t\t\t\tShadyCSS.applyStyle(_this); // eslint-disable-line no-undef\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tshadowRoot.appendChild(document.importNode(template.content, true));\n\t\t\t\t\t\t\treturn _this;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/**\n       * get active state of parent container\n       * @method active\n       * @return {Boolean}\n       */\n\n\n\t\t\t\t\t\t_createClass(PageSections, [{\n\t\t\t\t\t\t\tkey: \"connectedCallback\",\n\t\t\t\t\t\t\tvalue: function connectedCallback() {\n\t\t\t\t\t\t\t\tthis._scrollEvent = this._scrollEvent.bind(this);\n\t\t\t\t\t\t\t\t// wrap sections\n\t\t\t\t\t\t\t\twindow.addEventListener('scroll', this._scrollEvent); // bing this, so that it refers to custom element instead of window\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"_scrollEvent\",\n\t\t\t\t\t\t\tvalue: function _scrollEvent(e) {\n\t\t\t\t\t\t\t\tclearTimeout(this._scrollEvent.fn);\n\t\t\t\t\t\t\t\tthis._scrollEvent.fn = setTimeout(function () {\n\t\t\t\t\t\t\t\t\tthis.setActive();\n\t\t\t\t\t\t\t\t}.bind(this), 10);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/**\n        * check if section wrapper is in viewport\n        */\n\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"_setActiveState\",\n\n\t\t\t\t\t\t\t/**\n        * set _active property & add/remove active attr\n        */\n\t\t\t\t\t\t\tvalue: function _setActiveState(state) {\n\t\t\t\t\t\t\t\t// set _active property\n\t\t\t\t\t\t\t\tthis._active = state === true;\n\t\t\t\t\t\t\t\t// add or remove active attribute\n\t\t\t\t\t\t\t\tif (this._active) {\n\t\t\t\t\t\t\t\t\tthis.setAttribute('active', '');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.removeAttribute('active');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// check if a child element is in view and set it to active\n\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"setActive\",\n\t\t\t\t\t\t\tvalue: function setActive() {\n\t\t\t\t\t\t\t\tthis._setActiveState(this._inView);\n\t\t\t\t\t\t\t\t// if element is in view, active children\n\t\t\t\t\t\t\t\tif (this._inView) {\n\t\t\t\t\t\t\t\t\t// Get all child elements and activate visible ones\n\t\t\t\t\t\t\t\t\t// stop once an inactive item follows an active item\n\t\t\t\t\t\t\t\t\tvar elements = this.querySelectorAll('page-section');\n\t\t\t\t\t\t\t\t\tfor (var i = 0; elements.length > i; ++i) {\n\t\t\t\t\t\t\t\t\t\telements[i].setActive();\n\t\t\t\t\t\t\t\t\t\t// abort if current element is NOT in view, but previous was in view\n\t\t\t\t\t\t\t\t\t\tif (i > 0 && elements[i].active === false && elements[i - 1].active === true) {\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"active\",\n\t\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\t\treturn this._active;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"_inView\",\n\t\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\t\treturn this.getBoundingClientRect().bottom > 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]);\n\n\t\t\t\t\t\treturn PageSections;\n\t\t\t\t\t}(_CustomElement);\n\n\t\t\t\t\tmodule.exports = PageSections;\n\t\t\t\t\t// window.customElements.define('page-sections', PageSections)\n\t\t\t\t})();\n\t\t\t},\n\t\t\t\"page-section.js\": function pageSectionJs(exports, module, require) {\n\t\t\t\t/* global HTMLElement Event */\n\t\t\t\t(function () {\n\t\t\t\t\tvar makeTemplate = require('./make-template');\n\n\t\t\t\t\tvar PageSection = function (_CustomElement3) {\n\t\t\t\t\t\t_inherits(PageSection, _CustomElement3);\n\n\t\t\t\t\t\tfunction PageSection() {\n\t\t\t\t\t\t\t_classCallCheck(this, PageSection);\n\n\t\t\t\t\t\t\tvar _this2 = _possibleConstructorReturn(this, (PageSection.__proto__ || Object.getPrototypeOf(PageSection)).call(this));\n\t\t\t\t\t\t\t// If you define a ctor, always call super() first!\n\t\t\t\t\t\t\t// This is specific to CE and required by the spec.\n\n\n\t\t\t\t\t\t\tvar item = makeTemplate(_templateObject2);\n\t\t\t\t\t\t\t//   ShadyCSS.prepareTemplate(item, 'page-section') // eslint-disable-line no-undef\n\t\t\t\t\t\t\t// by default _active is false\n\t\t\t\t\t\t\t_this2._active = false;\n\t\t\t\t\t\t\t// Attach a shadow root to the element.\n\t\t\t\t\t\t\tvar shadowRoot = _this2.attachShadow({ mode: 'open' });\n\t\t\t\t\t\t\t// add content to shadowRoot & apply css polyfill\n\t\t\t\t\t\t\t//   ShadyCSS.applyStyle(this) // eslint-disable-line no-undef\n\t\t\t\t\t\t\tshadowRoot.appendChild(document.importNode(item.content, true));\n\t\t\t\t\t\t\treturn _this2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t/**\n       * get active state of individual section\n       * @method active\n       * @return {Boolean}\n       */\n\n\n\t\t\t\t\t\t_createClass(PageSection, [{\n\t\t\t\t\t\t\tkey: \"connectedCallback\",\n\n\t\t\t\t\t\t\t/**\n        * When element is added to DOM\n        */\n\t\t\t\t\t\t\tvalue: function connectedCallback() {\n\t\t\t\t\t\t\t\t// initialize activated state\n\t\t\t\t\t\t\t\tthis.setActive();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/**\n        * set _active property & add/remove active attr\n        */\n\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"_setActiveState\",\n\t\t\t\t\t\t\tvalue: function _setActiveState(state) {\n\t\t\t\t\t\t\t\tif (this._active === state) {\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// set _active property\n\t\t\t\t\t\t\t\tthis._active = state === true;\n\t\t\t\t\t\t\t\t// add or remove active attribute\n\t\t\t\t\t\t\t\tif (this._active) {\n\t\t\t\t\t\t\t\t\tthis.setAttribute('active', '');\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tthis.removeAttribute('active');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/**\n        * set active if in viewport or unactive if not\n        */\n\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"setActive\",\n\t\t\t\t\t\t\tvalue: function setActive() {\n\t\t\t\t\t\t\t\tthis._setActiveState(this._inView);\n\n\t\t\t\t\t\t\t\tif (this._inView) {\n\t\t\t\t\t\t\t\t\tif (this.active === false) {\n\t\t\t\t\t\t\t\t\t\t// set attributes\n\t\t\t\t\t\t\t\t\t\tthis.setAttribute('active', '');\n\t\t\t\t\t\t\t\t\t\tthis._active = true;\n\t\t\t\t\t\t\t\t\t\t// Dispatch the event.\n\t\t\t\t\t\t\t\t\t\tthis.dispatchEvent(new Event('activated'));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// return true\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// set element to unactive\n\t\t\t\t\t\t\t\tif (this.active === true) {\n\t\t\t\t\t\t\t\t\t// set attributes\n\t\t\t\t\t\t\t\t\tthis.removeAttribute('active');\n\t\t\t\t\t\t\t\t\tthis._active = false;\n\t\t\t\t\t\t\t\t\t// Dispatch the event.\n\t\t\t\t\t\t\t\t\tthis.dispatchEvent(new Event('deactivated'));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"active\",\n\t\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\t\treturn this._active;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/**\n        * check if element is in view\n        */\n\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tkey: \"_inView\",\n\t\t\t\t\t\t\tget: function get() {\n\t\t\t\t\t\t\t\t// get elements bounding box\n\t\t\t\t\t\t\t\tvar box = this.getBoundingClientRect();\n\t\t\t\t\t\t\t\t// check if element is in view\n\t\t\t\t\t\t\t\tif (box.top >= 0 && (box.top < window.innerHeight * 0.5 || box.bottom <= window.innerHeight) || box.top < window.innerHeight * 0.5 && box.bottom > window.innerHeight * 0.5 || box.top < window.innerHeight - box.height / 1.25) {\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]);\n\n\t\t\t\t\t\treturn PageSection;\n\t\t\t\t\t}(_CustomElement);\n\n\t\t\t\t\tmodule.exports = PageSection;\n\t\t\t\t\t// window.customElements.define('page-section', PageSectionItem)\n\t\t\t\t})();\n\t\t\t},\n\t\t\t\"page-sections.js\": function pageSectionsJs(exports, module, require) {\n\t\t\t\t(function () {\n\t\t\t\t\tvar PageSectionContainer = require('./page-section-container');\n\t\t\t\t\tvar PageSection = require('./page-section');\n\n\t\t\t\t\twindow.customElements.define('page-sections', PageSectionContainer);\n\t\t\t\t\twindow.customElements.define('page-section', PageSection);\n\t\t\t\t})();\n\t\t\t}\n\t\t}\n\t}\n})(\"page-sections/src/page-sections\");"],"file":"page-sections.js"}